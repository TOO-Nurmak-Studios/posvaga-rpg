[gd_scene load_steps=11 format=3 uid="uid://dsdfs3cg855in"]

[ext_resource type="Script" path="res://explore_scene/Scripts/LocationManager.gd" id="1_knkr1"]
[ext_resource type="Texture2D" uid="uid://dl4uacvvm7hiu" path="res://explore_scene/Assets/black_gradient.png" id="2_6w22t"]
[ext_resource type="TileSet" uid="uid://yjq3qcumf26f" path="res://explore_scene/Assets/Institute.tres" id="4_fh0j8"]
[ext_resource type="PackedScene" uid="uid://cpyg0dy7ijwm2" path="res://explore_scene/Scenes/player.tscn" id="5_7s0tl"]
[ext_resource type="SpriteFrames" uid="uid://cujrv4kcy70yt" path="res://sprites/map/Damir.tres" id="5_sk12b"]
[ext_resource type="PackedScene" uid="uid://csl0t86w6bvox" path="res://explore_scene/Scenes/SimpleInteractible.tscn" id="6_xwwo5"]
[ext_resource type="Resource" uid="uid://cuti6wqk8m383" path="res://dialog_scene/ink/institute.ink.json" id="7_f6px6"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7hbgk"]
size = Vector2(62, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_61646"]
size = Vector2(32, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o1opx"]
size = Vector2(64.5, 20)

[node name="Institute_Floor2_Part1" type="Node2D"]
y_sort_enabled = true
position = Vector2(567, 254)
script = ExtResource("1_knkr1")

[node name="Sprite2D3" type="Sprite2D" parent="."]
z_index = 10
position = Vector2(175.989, -386.227)
scale = Vector2(0.562675, 0.115414)
texture = ExtResource("2_6w22t")

[node name="Sprite2D4" type="Sprite2D" parent="."]
z_index = 10
position = Vector2(-224, -387.727)
scale = Vector2(1.0625, 0.127133)
texture = ExtResource("2_6w22t")

[node name="Sprite2D5" type="Sprite2D" parent="."]
z_index = 10
position = Vector2(-512, -378.227)
scale = Vector2(0.3125, 0.0529138)
texture = ExtResource("2_6w22t")

[node name="Map" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("4_fh0j8")
format = 2
layer_0/name = "floor and walls"
layer_0/tile_data = PackedInt32Array(-1048611, 327683, 6, -1114147, 1638403, 10, -1179683, 1703939, 11, -1048612, 262147, 6, -1114148, 1835011, 11, -1179684, 1507331, 13, -1048613, 327683, 6, -1114149, 1769475, 13, -1179685, 1638403, 12, -1048614, 262147, 6, -1114150, 327683, 7, -1179686, 327683, 6, -1048615, 327683, 6, -1114151, 262147, 7, -1179687, 262147, 6, -1048616, 262147, 6, -1114152, 327683, 7, -1179688, 327683, 6, -1048617, 262147, 6, -1114153, 262147, 7, -1179689, 262147, 6, -1441833, 262148, 16, -1376297, 262148, 17, -1310761, 131076, 8, -1245225, 131076, 9, -1441832, 196612, 6, -1376296, 196612, 7, -1310760, 196612, 8, -1245224, 196612, 9, -1376295, 131076, 7, -1310759, 131076, 8, -1245223, 131076, 9, -1376294, 196612, 7, -1310758, 196612, 8, -1245222, 196612, 9, -1441829, 131076, 6, -1376293, 131076, 7, -1310757, 131076, 8, -1245221, 131076, 9, -1441828, 196612, 6, -1376292, 196612, 7, -1310756, 196612, 8, -1245220, 196612, 9, -1441827, 131076, 6, -1376291, 131076, 7, -1310755, 131076, 8, -1245219, 131076, 9, -1441831, 131076, 6, -1441830, 196612, 6, -1441826, 196612, 6, -1376290, 196612, 7, -1310754, 196612, 8, -1245218, 393220, 19, -1179682, 1703939, 13, -1114146, 1572867, 12, -1048610, 262147, 6, -1441825, 393220, 9, -1376289, 393220, 9, -1310753, 393220, 9, -1245217, 393220, 9, -1179681, 1835011, 12, -1114145, 1638403, 11, -1048609, 327683, 6, -1441824, 458756, 9, -1376288, 458756, 9, -1310752, 458756, 9, -1245216, 458756, 9, -1179680, 1769475, 12, -1114144, 1638403, 13, -1048608, 262147, 6, -1441823, 131076, 6, -1376287, 131076, 7, -1310751, 131076, 8, -1245215, 131076, 9, -1179679, 1703939, 11, -1114143, 1703939, 13, -1048607, 327683, 6, -1441822, 196612, 6, -1376286, 196612, 7, -1310750, 196612, 8, -1245214, 196612, 9, -1179678, 1769475, 11, -1114142, 1769475, 12, -1048606, 262147, 6, -1441821, 4, 16, -1376285, 4, 17, -1310749, 4, 18, -1245213, 4, 19, -1179677, 1507331, 13, -1114141, 1638403, 13, -1048605, 327683, 6, -1441820, 65540, 16, -1376284, 65540, 17, -1310748, 196612, 18, -1245212, 196612, 19, -1179676, 1835011, 10, -1114140, 1835011, 11, -1048604, 262147, 6, -1441819, 131076, 6, -1376283, 131076, 7, -1310747, 131076, 8, -1245211, 131076, 9, -1179675, 1507331, 12, -1114139, 1572867, 10, -1048603, 327683, 6, -1441818, 196612, 6, -1376282, 196612, 7, -1310746, 196612, 8, -1245210, 196612, 9, -1179674, 1572867, 10, -1114138, 1638403, 11, -1048602, 262147, 6, -1048589, 262147, 8, -1114125, 262147, 7, -1179661, 262147, 6, -1048590, 262147, 6, -1114126, 1638403, 13, -1179662, 1769475, 10, -1048591, 327683, 6, -1114127, 1835011, 12, -1179663, 1638403, 13, -1048592, 262147, 6, -1114128, 1507331, 10, -1179664, 1572867, 12, -1048593, 327683, 6, -1114129, 1572867, 12, -1179665, 1835011, 13, -1048594, 262147, 6, -1114130, 1572867, 11, -1179666, 1507331, 12, -1048595, 327683, 6, -1114131, 1638403, 12, -1179667, 1703939, 11, -1048596, 262147, 6, -1114132, 1835011, 13, -1179668, 1703939, 13, -1048597, 327683, 6, -1114133, 1703939, 10, -1179669, 1638403, 11, -1048598, 262147, 6, -1114134, 1835011, 10, -1179670, 1638403, 11, -1048599, 327683, 6, -1114135, 1507331, 11, -1179671, 1703939, 13, -1048600, 262147, 6, -1114136, 1572867, 10, -1179672, 1572867, 12, -1048601, 327683, 6, -1114137, 1638403, 11, -1179673, 1769475, 11, -1441817, 131076, 6, -1376281, 131076, 7, -1310745, 131076, 8, -1245209, 131076, 9, -1441816, 196612, 6, -1376280, 196612, 7, -1310744, 196612, 8, -1245208, 196612, 9, -1441815, 131076, 6, -1376279, 131076, 7, -1310743, 131076, 8, -1245207, 131076, 9, -1441814, 196612, 6, -1376278, 196612, 7, -1310742, 196612, 8, -1245206, 196612, 9, -1441813, 131076, 6, -1376277, 131076, 7, -1310741, 131076, 8, -1245205, 131076, 9, -1441812, 131076, 6, -1376276, 131076, 7, -1310740, 131076, 8, -1245204, 131076, 9, -1441811, 131076, 6, -1376275, 131076, 7, -1310739, 131076, 8, -1245203, 131076, 9, -1441810, 196612, 6, -1376274, 196612, 7, -1310738, 196612, 8, -1245202, 262148, 19, -1441809, 131076, 6, -1376273, 131076, 7, -1310737, 131076, 8, -1245201, 131076, 9, -1441804, 196612, 6, -1376268, 196612, 7, -1310732, 196612, 8, -1245196, 196612, 9, -1441803, 131076, 6, -1376267, 131076, 7, -1310731, 131076, 8, -1245195, 262148, 19, -1048588, 327683, 8, -1048587, 327683, 8, -1179660, 327683, 6, -1114124, 327683, 7, -1179659, 327683, 6, -1114123, 327683, 7, -1048618, 458756, 2, -1114154, 458756, 2, -1179690, 458756, 2, -1245226, 458756, 2, -1310762, 458756, 2, -1376298, 458756, 2, -1441834, 458756, 2, -1507370, 458756, 1, -1507369, 524292, 1, -1507368, 524292, 1, -1507367, 524292, 1, -1507366, 524292, 1, -1507365, 524292, 1, -1507364, 524292, 1, -1507363, 524292, 1, -1507362, 327684, 3, -1507361, 393220, 8, -1507360, 458756, 8, -1507359, 262148, 3, -1507358, 524292, 1, -1507357, 524292, 1, -1507356, 524292, 1, -1507355, 524292, 1, -1507354, 524292, 1, -1507353, 524292, 1, -1507352, 524292, 1, -1507351, 524292, 1, -1507350, 524292, 1, -1507349, 524292, 1, -1507348, 524292, 1, -1507347, 327684, 3, -1507346, 131076, 11, -1507345, 196612, 11, -1507340, 131076, 11, -983081, 524292, 3, -983082, 458756, 3, -983076, 524292, 3, -983075, 524292, 3, -983074, 524292, 3, -983073, 524292, 3, -983072, 524292, 3, -983071, 524292, 3, -983070, 524292, 3, -983069, 524292, 3, -983068, 524292, 3, -983067, 524292, 3, -983066, 524292, 3, -983065, 524292, 3, -983064, 524292, 3, -983063, 524292, 3, -983062, 524292, 3, -983061, 524292, 3, -983060, 524292, 3, -983059, 524292, 3, -983058, 524292, 3, -983057, 524292, 3, -983056, 524292, 3, -983055, 524292, 3, -983054, 524292, 3, -983053, 524292, 3, -983052, 524292, 3, -983051, 524292, 3, -1179658, 262147, 6, -1114122, 262147, 7, -1048586, 262147, 8, -1179657, 327683, 6, -1114121, 327683, 7, -1048585, 327683, 8, -1179656, 327683, 6, -1114120, 327683, 7, -1048584, 327683, 8, -1179655, 262147, 6, -1114119, 262147, 7, -1048583, 262147, 8, -1179654, 327683, 6, -1114118, 327683, 7, -1048582, 327683, 8, -1179653, 327683, 6, -1114117, 327683, 7, -1048581, 327683, 8, -1179652, 262147, 6, -1114116, 262147, 7, -1048580, 262147, 8, -1179651, 327683, 6, -1114115, 327683, 7, -1048579, 327683, 8, -1179650, 327683, 6, -1114114, 327683, 7, -1048578, 327683, 8, -1179649, 262147, 6, -1114113, 262147, 7, -1048577, 262147, 8, -1245184, 327683, 6, -1179648, 327683, 7, -1114112, 327683, 8, -1245183, 327683, 6, -1179647, 327683, 7, -1114111, 327683, 8, -1245182, 262147, 6, -1179646, 262147, 7, -1114110, 262147, 8, -1245181, 327683, 6, -1179645, 327683, 7, -1114109, 327683, 8, -1245180, 327683, 6, -1179644, 327683, 7, -1114108, 327683, 8, -1245179, 262147, 6, -1179643, 262147, 7, -1114107, 262147, 8, -1245178, 327683, 6, -1179642, 327683, 7, -1114106, 327683, 8, -1245177, 327683, 6, -1179641, 327683, 7, -1114105, 327683, 8, -1245176, 262147, 6, -1179640, 262147, 7, -1114104, 262147, 8, -1245175, 327683, 6, -1179639, 327683, 7, -1114103, 327683, 8, -1245174, 327683, 6, -1179638, 327683, 7, -1114102, 327683, 8, -1245173, 262147, 6, -1179637, 262147, 7, -1114101, 262147, 8, -1245172, 327683, 6, -1179636, 327683, 7, -1114100, 327683, 8, -1245171, 327683, 6, -1179635, 327683, 7, -1114099, 327683, 8, -1245170, 589828, 2, -1179634, 589828, 2, -1114098, 589828, 2, -1441800, 196612, 6, -1376264, 196612, 7, -1310728, 196612, 8, -1245192, 196612, 9, -1441799, 196612, 6, -1376263, 196612, 7, -1310727, 196612, 8, -1245191, 196612, 9, -1441798, 131076, 6, -1376262, 131076, 7, -1310726, 131076, 8, -1245190, 131076, 9, -1441797, 196612, 6, -1376261, 196612, 7, -1310725, 196612, 8, -1245189, 196612, 9, -1441796, 131076, 6, -1376260, 131076, 7, -1310724, 131076, 8, -1245188, 131076, 9, -1441795, 196612, 6, -1376259, 196612, 7, -1310723, 196612, 8, -1245187, 196612, 9, -1441794, 131076, 6, -1376258, 131076, 7, -1310722, 131076, 8, -1245186, 131076, 9, -1441793, 131076, 6, -1376257, 1179652, 19, -1310721, 1179652, 20, -1245185, 1179652, 21, -1507328, 196612, 6, -1441792, 1245188, 19, -1376256, 1245188, 20, -1310720, 1245188, 21, -1507327, 131076, 6, -1441791, 131076, 7, -1376255, 131076, 8, -1310719, 131076, 9, -1507326, 196612, 6, -1441790, 196612, 7, -1376254, 196612, 8, -1310718, 196612, 9, -1507325, 196612, 6, -1441789, 196612, 7, -1376253, 196612, 8, -1310717, 196612, 9, -1507324, 131076, 6, -1441788, 131076, 7, -1376252, 131076, 8, -1310716, 131076, 9, -1507323, 196612, 6, -1441787, 196612, 7, -1376251, 196612, 8, -1310715, 196612, 9, -1507322, 131076, 6, -1441786, 131076, 7, -1376250, 131076, 8, -1310714, 131076, 9, -1507321, 196612, 6, -1441785, 196612, 7, -1376249, 196612, 8, -1310713, 196612, 9, -1507320, 131076, 6, -1441784, 131076, 7, -1376248, 131076, 8, -1310712, 131076, 9, -1507319, 393220, 8, -1507318, 458756, 8, -1507317, 393220, 8, -1507316, 458756, 8, -1507315, 196612, 6, -1441779, 196612, 7, -1376243, 196612, 8, -1310707, 327684, 19, -1507314, 589828, 2, -1441778, 589828, 2, -1376242, 589828, 2, -1310706, 589828, 2, -1507335, 524292, 1, -1507334, 524292, 1, -1507333, 524292, 1, -1507332, 524292, 1, -1507331, 524292, 1, -1507330, 524292, 1, -1507329, 524292, 1, -1572864, 524292, 1, -1572863, 524292, 1, -1572862, 524292, 1, -1572861, 524292, 1, -1572860, 524292, 1, -1572859, 524292, 1, -1572858, 524292, 1, -1572857, 524292, 1, -1572856, 327684, 3, -1572855, 393220, 9, -1572854, 458756, 9, -1572853, 393220, 9, -1572852, 458756, 9, -1572851, 262148, 3, -983050, 524292, 3, -983049, 524292, 3, -983048, 524292, 3, -983047, 524292, 3, -983046, 524292, 3, -983045, 524292, 3, -983044, 524292, 3, -983043, 524292, 3, -983042, 524292, 3, -983041, 524292, 3, -1048576, 524292, 3, -1048575, 524292, 3, -1048574, 524292, 3, -1048573, 524292, 3, -1048572, 524292, 3, -1048571, 524292, 3, -1048570, 524292, 3, -1048569, 524292, 3, -1638391, 393220, 8, -1638390, 458756, 8, -1638389, 393220, 8, -1638388, 458756, 8, -1638387, 589828, 2, -1638392, 458756, 2, -1572850, 589828, 1, -1048568, 327684, 2, -1048567, 262147, 12, -983031, 262147, 13, -1048566, 327683, 12, -983030, 327683, 13, -1048564, 327683, 12, -983028, 327683, 13, -1048565, 262147, 12, -983029, 262147, 13, -983032, 458756, 2, -1048563, 262148, 2, -983027, 589828, 2, -1048562, 589828, 3, -983080, 524292, 3, -983079, 524292, 3, -983078, 524292, 3, -983077, 524292, 3, -1441802, 196612, 6, -1376266, 196612, 7, -1310730, 196612, 8, -1245194, 196612, 9, -1441801, 131076, 6, -1376265, 131076, 7, -1310729, 131076, 8, -1245193, 131076, 9, -1310736, 131076, 10, -1245200, 131076, 11, -1310735, 196612, 10, -1245199, 196612, 11, -1441808, 131076, 10, -1376272, 131076, 11, -1441807, 196612, 10, -1376271, 196612, 11, -1572880, 131076, 10, -1507344, 131076, 11, -1572879, 196612, 10, -1507343, 196612, 11, -1310734, 131076, 10, -1245198, 131076, 11, -1310733, 196612, 10, -1245197, 196612, 11, -1441806, 131076, 10, -1376270, 131076, 11, -1441805, 196612, 10, -1376269, 196612, 11, -1572878, 131076, 10, -1507342, 131076, 11, -1572877, 131076, 10, -1507341, 131076, 11, -1572876, 131076, 10, -1572882, 131076, 10, -1572881, 196612, 10, -1572875, 196612, 10, -1507339, 196612, 11, -1572883, 458756, 2, -1507338, 262148, 3, -1572874, 589828, 2, -1507337, 524292, 1, -1507336, 524292, 1, -1441783, 393220, 8, -1376247, 393220, 8, -1441782, 458756, 8, -1376246, 458756, 8, -1441781, 393220, 8, -1376245, 393220, 8, -1441780, 458756, 8, -1376244, 458756, 8, -1310709, 393220, 9, -1310708, 458756, 9, -1310711, 393220, 9, -1310710, 458756, 9)
layer_1/name = "interior"
layer_1/enabled = true
layer_1/modulate = Color(1, 1, 1, 1)
layer_1/y_sort_enabled = true
layer_1/y_sort_origin = 0
layer_1/z_index = 1
layer_1/tile_data = PackedInt32Array(-1310722, 1048580, 12, -1376243, 983044, 13, -1376289, 917508, 15, -1310753, 917508, 16, -1245217, 917508, 17, -1179681, 655364, 16, -1376288, 983044, 15, -1310752, 983044, 16, -1245216, 983044, 17, -1179680, 720900, 16, -1376269, 720900, 19, -1310733, 720900, 20, -1245197, 720900, 21, -1376272, 917508, 7, -1310736, 917508, 8, -1245200, 917508, 9, -1572876, 1703940, 0, -1376265, 1179652, 14, -1376276, 65541, 0, -1245202, 786436, 2, -1245195, 786436, 2, -1376261, 655364, 4, -1310754, 1048580, 12, -1376277, 720901, 7, -1376280, 786436, 4, -1376273, 589829, 5, -1376249, 1179652, 2, -1376251, 917508, 0, -1245218, 1310724, 12, -1310760, 1179652, 2, -1245223, 655364, 2, -1441805, 720900, 18, -1441808, 917508, 6, -1441825, 917508, 14, -1441824, 983044, 14, -1507319, 1310724, 6, -1441783, 1310724, 7, -1376247, 1310724, 8, -1310711, 1310724, 9, -1507318, 1376260, 6, -1441782, 1376260, 7, -1376246, 1376260, 8, -1310710, 1376260, 9, -1507317, 917508, 18, -1441781, 917508, 19, -1376245, 917508, 20, -1310709, 917508, 21, -1507316, 983044, 18, -1441780, 983044, 19, -1376244, 983044, 20, -1310708, 983044, 21)
layer_2/name = "interior2"
layer_2/enabled = true
layer_2/modulate = Color(1, 1, 1, 1)
layer_2/y_sort_enabled = true
layer_2/y_sort_origin = 0
layer_2/z_index = 2
layer_2/tile_data = PackedInt32Array(-1572876, 2097156, 4)

[node name="Player" parent="." groups=["Player"] instance=ExtResource("5_7s0tl")]
z_index = 1
position = Vector2(173, -277)
char_name = "Damir"
starting_direction = Vector2(-1, 0)

[node name="AnimatedSprite2D" parent="Player" index="2"]
sprite_frames = ExtResource("5_sk12b")
animation = &"idle_down"

[node name="StairsDoor" parent="." instance=ExtResource("6_xwwo5")]
z_index = 1
position = Vector2(176, -313)
dialog_resource = ExtResource("7_f6px6")
dialog_knot = "first_floor_stairs_door"
interaction_enabled = false

[node name="CollisionShape2D" parent="StairsDoor" index="0"]
position = Vector2(0, 0)
shape = SubResource("RectangleShape2D_7hbgk")

[node name="SecretDoor" parent="." instance=ExtResource("6_xwwo5")]
z_index = 1
position = Vector2(-512, -311)
dialog_resource = ExtResource("7_f6px6")
dialog_knot = "first_floor_secret_door"
interaction_enabled = false

[node name="CollisionShape2D" parent="SecretDoor" index="0"]
position = Vector2(0, -2)
shape = SubResource("RectangleShape2D_61646")

[node name="MainDoor" parent="." instance=ExtResource("6_xwwo5")]
z_index = 1
position = Vector2(-246, -311)
dialog_resource = ExtResource("7_f6px6")
dialog_knot = "first_floor_main_exit"
interaction_enabled = false

[node name="CollisionShape2D" parent="MainDoor" index="0"]
z_index = 1
position = Vector2(22, -2)
shape = SubResource("RectangleShape2D_o1opx")

[node name="ColorRect" type="ColorRect" parent="."]
z_index = 11
offset_left = -955.0
offset_top = -655.0
offset_right = 467.0
offset_bottom = 43.0
color = Color(0, 0, 0, 0.196078)

[editable path="Player"]
[editable path="StairsDoor"]
[editable path="SecretDoor"]
[editable path="MainDoor"]
